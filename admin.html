<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VALKYRIA NAIL STUDIO - Panel de Administración</title>
    <meta name="description" content="Panel de administración para VALKYRIA NAIL STUDIO">
    <meta name="theme-color" content="#d946ef">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>VALKYRIA NAIL STUDIO</span>
            </div>
            <div class="header-actions">
                <a href="index.html" class="view-public-btn">
                    <i class="fas fa-eye"></i> Ver Página Pública
                </a>
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Salir
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Stats Cards -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-services">0</h3>
                        <p>Total Servicios</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="avg-price">$0</h3>
                        <p>Precio Promedio</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-categories">0</h3>
                        <p>Categorías</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="price-range">$0</h3>
                        <p>Rango de Precios</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Controls Section -->
        <section class="controls-section">
            <div class="controls-header">
                <h2>Gestión de Servicios</h2>
                <button class="add-service-btn" onclick="openAddModal()">
                    <i class="fas fa-plus"></i> Nuevo Servicio
                </button>
            </div>
            
            <div class="controls-bar">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Buscar servicios..." oninput="filterServices()">
                </div>
                
                <div class="filter-controls">
                    <select id="category-filter" onchange="filterServices()">
                        <option value="">Todas las categorías</option>
                        <option value="Manicure">Manicure</option>
                        <option value="Pedicure">Pedicure</option>
                        <option value="Nail Art">Nail Art</option>
                        <option value="Extensiones">Extensiones</option>
                        <option value="Tratamientos">Tratamientos</option>
                        <option value="Otros">Otros</option>
                    </select>
                    
                    <select id="sort-select" onchange="sortServices()">
                        <option value="name-asc">Nombre A-Z</option>
                        <option value="name-desc">Nombre Z-A</option>
                        <option value="price-asc">Precio Menor-Mayor</option>
                        <option value="price-desc">Precio Mayor-Menor</option>
                        <option value="category">Por Categoría</option>
                    </select>
                </div>
                
                <button class="export-btn" onclick="exportServices()">
                    <i class="fas fa-download"></i> Exportar
                </button>
            </div>
        </section>

        <!-- Services Section -->
        <section class="services-section">
            <div id="services-container" class="services-grid">
                <!-- Services will be loaded here -->
            </div>
            <div id="no-services" class="no-services hidden">
                <i class="fas fa-spa"></i>
                <h3>No hay servicios registrados</h3>
                <p>Comienza agregando tu primer servicio</p>
                <button class="add-service-btn" onclick="openAddModal()">
                    <i class="fas fa-plus"></i> Agregar Servicio
                </button>
            </div>
        </section>
    </main>

    <!-- Add/Edit Service Modal -->
    <div id="service-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Nuevo Servicio</h3>
                <button class="close-btn" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="service-form" onsubmit="saveService(event)">
                <div class="form-group">
                    <label for="service-name">Nombre del Servicio</label>
                    <input type="text" id="service-name" required>
                </div>
                
                <div class="form-group">
                    <label for="service-category">Categoría</label>
                    <select id="service-category" required>
                        <option value="">Seleccionar categoría</option>
                        <option value="Manicure">Manicure</option>
                        <option value="Pedicure">Pedicure</option>
                        <option value="Nail Art">Nail Art</option>
                        <option value="Extensiones">Extensiones</option>
                        <option value="Tratamientos">Tratamientos</option>
                        <option value="Otros">Otros</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="service-price">Precio ($)</label>
                    <input type="number" id="service-price" min="0" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="service-duration">Duración (minutos)</label>
                    <input type="number" id="service-duration" min="5" step="5" placeholder="60">
                </div>
                
                <div class="form-group">
                    <label for="service-description">Descripción</label>
                    <textarea id="service-description" rows="3" placeholder="Descripción opcional del servicio..."></textarea>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal()">Cancelar</button>
                    <button type="submit" class="save-btn">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal hidden">
        <div class="modal-content small">
            <div class="modal-header">
                <h3>Confirmar Eliminación</h3>
            </div>
            <p>¿Estás segura de que deseas eliminar este servicio?</p>
            <div class="modal-actions">
                <button type="button" class="cancel-btn" onclick="closeDeleteModal()">Cancelar</button>
                <button type="button" class="delete-btn" onclick="confirmDelete()">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>